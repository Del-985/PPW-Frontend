<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <link rel="stylesheet" href="admin.css">
  <link rel="icon" type="image/x-icon" href="../favicon.ico">
  <title>Admin Dashboard</title>
</head>
<body>
  <header class="container">
    <h1>Pioneer Admin Dashboard</h1>
    <nav>
      <a href="../index.html">Home</a>
      <button onclick="logout()">Logout</button>
    </nav>
  </header>

  <main>
    <!-- Tab Buttons -->
    <div class="tab-container">
      <button class="tab active" data-tab="contacts-panel">Contacts</button>
      <button class="tab" data-tab="users-panel">Business Users</button>
      <button class="tab" data-tab="audit-panel">Audit Log</button>
      <button class="tab" data-tab="schedule-panel">Schedule</button>
      <!-- NEW TAB BUTTON -->
      <button class="tab" data-tab="invoices-panel">Invoices</button>
    </div>

    <!-- Contacts Tab -->
    <section id="contacts-panel" class="tab-panel active">
      <h2>Contact Submissions</h2>
      <table id="contacts-table">
        <thead>
          <tr>
            <th>ID</th><th>Name</th><th>Email</th><th>Message</th><th>Submitted At</th><th>Action</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </section>

    <!-- Business Users Tab -->
    <section id="users-panel" class="tab-panel">
      <h2>Business Users</h2>
      <table id="business-users-table">
        <thead>
          <tr><th>ID</th><th>Name</th><th>Email</th><th>Action</th></tr>
        </thead>
        <tbody></tbody>
      </table>
    </section>

    <!-- Audit Log Tab -->
    <section id="audit-panel" class="tab-panel">
      <h2>Audit Log</h2>
      <table id="audit-log-table">
        <thead>
          <tr>
            <th>ID</th><th>Admin</th><th>Action</th><th>Service</th><th>Date</th><th>Timestamp</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </section>

    <!-- Schedule Tab -->
    <section id="schedule-panel" class="tab-panel">
      <h2>Schedule Calendar</h2>
      <div id="bulkControls" style="margin-top: 20px;"></div>
      <div id="calendar" class="calendar-grid"></div>
    </section>

    <!-- INVOICES TAB: NEW -->
    <section id="invoices-panel" class="tab-panel">
      <h2>Create New Invoice</h2>
      <form id="invoice-form" style="max-width: 400px;">
        <label>
          Customer Name:
          <input type="text" name="customer_name" required>
        </label>
        <br>
        <label>
          Business User ID:
          <input type="number" name="business_user_id" required>
        </label>
        <br>
        <label>
          Amount:
          <input type="number" name="amount" step="0.01" required>
        </label>
        <br>
        <label>
          Description:
          <input type="text" name="description">
        </label>
        <br>
        <label>
          Due Date:
          <input type="date" name="due_date">
        </label>
        <br>
        <label>
          Service Date:
          <input type="date" name="service_date">
        </label>
        <br>
        <button type="submit">Create Invoice</button>
      </form>
      <div id="invoice-message" style="margin-top: 1em; color: green;"></div>

      <!-- INVOICE TABLE: UPDATED -->
      <h3>All Invoices</h3>
      <table id="invoice-table">
        <thead>
          <tr>
            <th>ID</th>
            <th>Customer</th>
            <th>Business</th>
            <th>Amount</th>
            <th>Description</th>
            <th>Due Date</th>
            <th>Service Date</th>
            <th>Paid?</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </section>
    <!-- END INVOICES TAB -->

  </main>

  <script src="../scripts/admin.js"></script>
</body>
</html>
